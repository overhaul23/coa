cursor
.model small
.stack 100h

.data
    menu db 13,10, 'case1. increase cursor (block)',13,10
         db 'case2. decrease cursor (underline)',13,10
         db 'case3. move right',13,10
         db 'case4. move left',13,10
         db 'case5. move up',13,10
         db 'case6. move down',13,10
         db 'case7. disable cursor',13,10
         db 'Press key 1-7, any other key to exit...',13,10,'$'
.code
main:
    mov ax, @data
    mov ds, ax

    ; Display menu
    mov ah, 09h
    lea dx, menu
    int 21h
main_loop: 
    ; Wait for key press
    mov ah, 07h    ; Read a char from keyboard without echo
    int 21h

    ; Check cases
    cmp al, '1'
    je increase_cursor
    cmp al, '2'
    je decrease_cursor
    cmp al, '3'
je move_right
    cmp al, '4'
    je move_left
    cmp al, '5'
    je move_up
    cmp al, '6'
    je move_down
    cmp al, '7'
    je hide_cursor

    jmp exit_program
increase_cursor:
mov ah, 01h
mov ch, 00h
mov cl, 07h
int 10h
jmp main_loop

decrease_cursor:
mov ah, 01h
mov ch, 06h
mov cl, 07h
int 10h
jmp main_loop


move_right:
mov ah, 03h   ; Read the cursor position
int 10h

inc dl         ; Increase column of the cursor
mov ah, 02h    ; Set cursor position
int 10h
jmp main_loop

move_left:
mov ah, 03h
int 10h

dec dl          ; decrease column of the cursor
mov ah, 02h     ; Set cursor position
int 10h
jmp main loop

move_up:
mov al, 03H
int 10h

dec dh
mov ah, 02h
int 10h
jmp main_loop

move_down:
mov ah, 03h
int 10h
inc dh
mov ah, 02h
int 10h
jmp main_loop

hide_cursor:
mov ah, 01h
mov ch, 26h
mov cl, 07h
int 10h
jmp main_loop

exit_program:
mov ah, 4Ch
int 21h
end main
